apiVersion: network.openstack.org/v1beta1
kind: NetConfig
metadata:
  name: osp2-netconfig
  namespace: openstack
  annotations:
    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
    argocd.argoproj.io/sync-wave: "2"
spec:
  networks:
  - name: CtlPlane
    dnsDomain: ctlplane.osp2.lab.signal9.gg
    subnets:
    - name: subnet1
      allocationRanges:
      - end: 172.18.201.200
        start: 172.18.201.125
      cidr: 172.18.201.0/24
      gateway: 172.18.201.1
  - name: InternalApi
    dnsDomain: internalapi.osp2.lab.signal9.gg
    mtu: 9000
    subnets:
    - name: subnet1
      allocationRanges:
      - end: 172.18.202.200
        start: 172.18.202.100
      cidr: 172.18.202.0/24
      vlan: 202
  - name: External
    dnsDomain: external.osp2.lab.signal9.gg
    subnets:
    - name: subnet1
      allocationRanges:
      - end: 172.18.203.199
        start: 172.18.203.100
      cidr: 172.18.203.0/24
      gateway: 172.18.203.1
      vlan: 203
  - name: Storage
    dnsDomain: storage.osp2.lab.signal9.gg
    mtu: 9000
    subnets:
    - name: subnet1
      allocationRanges:
      - end: 172.18.19.199
        start: 172.18.19.150
      cidr: 172.18.19.0/24
      vlan: 19
      routes:
        - destination: 172.18.14.0/24
          nexthop: 172.18.19.1
  - name: Tenant
    dnsDomain: tenant.osp2.lab.signal9.gg
    mtu: 9000
    subnets:
    - name: subnet1
      allocationRanges:
      - end: 172.18.204.200
        start: 172.18.204.100
      cidr: 172.18.204.0/24
      vlan: 204
